(()=>{"use strict";var __webpack_modules__={4081:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.Breakpoints=exports.App=void 0;var ModuleFactory_1=__webpack_require__(6776),IndexedDBHandler_1=__webpack_require__(9041),App=function(){function App(){this.isInitialized=!1,this.modules=[],this.browserDocument=document,this.browserWindow=window,this.browserHTMLTag=this.browserDocument.querySelector("html")}return Object.defineProperty(App,"instance",{get:function(){return this.privateInstance||(this.privateInstance=new App),this.privateInstance},enumerable:!1,configurable:!0}),Object.defineProperty(App,"isDevelopment",{get:function(){return!1},enumerable:!1,configurable:!0}),App.prototype.init=function(modules){this.isInitialized&&App.isDevelopment&&console.warn("app is already initialized"),this.gsIndexedDB=IndexedDBHandler_1.IndexedDBHandler.instance,this.addModules(modules),this.initModules(),this.hideWhenPromiseNotSupported(),this.isInitialized=!0,document.body.classList.add("gs_ready"),document.body.classList.remove("gs_loading")},Object.defineProperty(App.prototype,"breakpoint",{get:function(){return this.breakpointData},enumerable:!1,configurable:!0}),App.prototype.getGsIndexedDB=function(){return this.gsIndexedDB},App.prototype.addModules=function(modules){modules.forEach(function(ctor){ModuleFactory_1.ModuleFactory.add(ctor)})},App.prototype.initModules=function(){for(var moduleElements=document.getElementsByClassName("mod"),i=0;i<moduleElements.length;i++){var element=moduleElements[i],moduleName=element.className.match(/mod-([\w]+)/)[1];if(!moduleName)return;var instance=ModuleFactory_1.ModuleFactory.create(moduleName,element);instance&&this.modules.push(instance)}},App.prototype.hideWhenPromiseNotSupported=function(){if("undefined"==typeof Promise||-1===Promise.toString().indexOf("[native code]")){document.head.insertAdjacentHTML("beforeend",'<style type="text/css">[data-isNeededPromise="true"] {display: none !important;}</style>')}},App}();exports.App=App,function(Breakpoints){Breakpoints.xs="xs",Breakpoints.sm="sm",Breakpoints.md="md",Breakpoints.lg="lg",Breakpoints.xlg="xlg"}(exports.Breakpoints||(exports.Breakpoints={}))},6776:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.ModuleFactory=void 0;var App_1=__webpack_require__(4081);!function(ModuleFactory){var modules={};ModuleFactory.add=function(ctor){var constructorName=ctor.name||ctor.toString().split(" ")[1].split("(")[0]||"constructor name not found";modules[constructorName]?App_1.App.isDevelopment&&console.error("module ".concat(constructorName," is already registered")):modules[constructorName]=ctor},ModuleFactory.create=function(moduleName,element){return modules[moduleName]?new modules[moduleName](element):null}}(exports.ModuleFactory||(exports.ModuleFactory={}))},7809:(__unused_webpack_module,exports,__webpack_require__)=>{exports.Z=void 0;var App_1=__webpack_require__(4081);exports.Z=[],App_1.App.instance.init(exports.Z)},9041:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndexedDBHandler=void 0;var IndexedDBHandler=function(){function IndexedDBHandler(){this.idbRequest=null}return Object.defineProperty(IndexedDBHandler,"instance",{get:function(){return IndexedDBHandler.isSupportedPromise?(this.privateInstance||(this.privateInstance=new IndexedDBHandler),this.privateInstance):null},enumerable:!1,configurable:!0}),IndexedDBHandler.prototype.put=function(tableName,data,maxTableSize){var _this=this;return IndexedDBHandler.isSupportedPromise?(Array.prototype.forEach.call(data,function(key){data[key]=encodeURI(data[key])}),new Promise(function(resolve,reject){_this.getDbRequest().then(function(dbRequest){var table=_this.getTable(dbRequest,tableName);table.put(data).onsuccess=function(putEvent){table.count().onsuccess=function(countEvent){countEvent.target.result>maxTableSize&&(table.index("timestamp").openCursor().onsuccess=function(cursorEvent){cursorEvent.target.result.delete().onsuccess=function(deleteEvent){resolve("Successfully deleted superfluous row")}}),resolve("Successfully put new row")}}},function(error){console.error(error)})})):null},IndexedDBHandler.prototype.getLatest=function(tableName){var _this=this;return IndexedDBHandler.isSupportedPromise?new Promise(function(resolve,reject){_this.getDbRequest().then(function(dbRequest){_this.getTable(dbRequest,tableName).index("timestamp").openCursor(null,"prev").onsuccess=function(event){resolve(event.target.result)}},function(error){reject(error)})}):null},IndexedDBHandler.prototype.getTable=function(dbRequest,name){return dbRequest.result.objectStoreNames.contains(name)?dbRequest.result.transaction([name],"readwrite").objectStore(name):(console.error("ObjectStore ".concat(name," doesn't exist")),null)},IndexedDBHandler.prototype.getDbRequest=function(){var _this=this;return new Promise(function(resolve,reject){"indexedDB"in window||reject("IndexedDB wird nicht unterstuetzt"),_this.idbRequest&&resolve(_this.idbRequest);var dbOpen=window.indexedDB.open("GelbeSeiten",1);dbOpen.onsuccess=function(event){_this.idbRequest=event.target,resolve(event.target)},dbOpen.onerror=function(error){reject(error)},dbOpen.onupgradeneeded=function(event){dbOpen.result.objectStoreNames.contains("searches")||dbOpen.result.createObjectStore("searches",{keyPath:"was_wo"}).createIndex("timestamp","timestamp"),dbOpen.result.onversionchange=function(versionChangeEvent){_this.idbRequest=event.target,resolve(versionChangeEvent.target)}}})},IndexedDBHandler.isSupportedPromise="undefined"!=typeof Promise&&Promise.toString().indexOf("[native code]")>-1,IndexedDBHandler}();exports.IndexedDBHandler=IndexedDBHandler}},__webpack_module_cache__={};(function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId](module,module.exports,__webpack_require__),module.exports})(7809)})();