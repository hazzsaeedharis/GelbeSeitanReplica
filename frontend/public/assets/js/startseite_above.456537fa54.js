(()=>{"use strict";var __webpack_modules__={4081:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.Breakpoints=exports.App=void 0;const ModuleFactory_1=__webpack_require__(6776),IndexedDBHandler_1=__webpack_require__(9041);class App{constructor(){this.isInitialized=!1,this.modules=[],this.browserDocument=document,this.browserWindow=window,this.browserHTMLTag=this.browserDocument.querySelector("html")}static get instance(){return this.privateInstance||(this.privateInstance=new App),this.privateInstance}static get isDevelopment(){return!1}init(modules){this.isInitialized&&App.isDevelopment&&console.warn("app is already initialized"),this.gsIndexedDB=IndexedDBHandler_1.IndexedDBHandler.instance,this.addModules(modules),this.initModules(),this.hideWhenPromiseNotSupported(),this.isInitialized=!0,document.body.classList.add("gs_ready"),document.body.classList.remove("gs_loading")}get breakpoint(){return this.breakpointData}getGsIndexedDB(){return this.gsIndexedDB}addModules(modules){modules.forEach(ctor=>{ModuleFactory_1.ModuleFactory.add(ctor)})}initModules(){const moduleElements=document.getElementsByClassName("mod");for(let i=0;i<moduleElements.length;i++){const element=moduleElements[i],[,moduleName]=element.className.match(/mod-([\w]+)/);if(!moduleName)return;const instance=ModuleFactory_1.ModuleFactory.create(moduleName,element);instance&&this.modules.push(instance)}}hideWhenPromiseNotSupported(){if("undefined"==typeof Promise||-1===Promise.toString().indexOf("[native code]")){const styleString='<style type="text/css">[data-isNeededPromise="true"] {display: none !important;}</style>';document.head.insertAdjacentHTML("beforeend",styleString)}}}exports.App=App,function(Breakpoints){Breakpoints.xs="xs",Breakpoints.sm="sm",Breakpoints.md="md",Breakpoints.lg="lg",Breakpoints.xlg="xlg"}(exports.Breakpoints||(exports.Breakpoints={}))},6776:(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.ModuleFactory=void 0;const App_1=__webpack_require__(4081);!function(ModuleFactory){const modules={};ModuleFactory.add=function(ctor){const constructorName=ctor.name||ctor.toString().split(" ")[1].split("(")[0]||"constructor name not found";modules[constructorName]?App_1.App.isDevelopment&&console.error(`module ${constructorName} is already registered`):modules[constructorName]=ctor},ModuleFactory.create=function(moduleName,element){return modules[moduleName]?new modules[moduleName](element):null}}(exports.ModuleFactory||(exports.ModuleFactory={}))},7809:(__unused_webpack_module,exports,__webpack_require__)=>{exports.Z=void 0;const App_1=__webpack_require__(4081);exports.Z=[],App_1.App.instance.init(exports.Z)},9041:(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.IndexedDBHandler=void 0;class IndexedDBHandler{constructor(){this.idbRequest=null}static get instance(){return IndexedDBHandler.isSupportedPromise?(this.privateInstance||(this.privateInstance=new IndexedDBHandler),this.privateInstance):null}put(tableName,data,maxTableSize){return IndexedDBHandler.isSupportedPromise?(Array.prototype.forEach.call(data,key=>{data[key]=encodeURI(data[key])}),new Promise((resolve,reject)=>{this.getDbRequest().then(dbRequest=>{const table=this.getTable(dbRequest,tableName);table.put(data).onsuccess=putEvent=>{table.count().onsuccess=countEvent=>{countEvent.target.result>maxTableSize&&(table.index("timestamp").openCursor().onsuccess=cursorEvent=>{cursorEvent.target.result.delete().onsuccess=deleteEvent=>{resolve("Successfully deleted superfluous row")}}),resolve("Successfully put new row")}}},error=>{console.error(error)})})):null}getLatest(tableName){return IndexedDBHandler.isSupportedPromise?new Promise((resolve,reject)=>{this.getDbRequest().then(dbRequest=>{this.getTable(dbRequest,tableName).index("timestamp").openCursor(null,"prev").onsuccess=event=>{resolve(event.target.result)}},error=>{reject(error)})}):null}getTable(dbRequest,name){return dbRequest.result.objectStoreNames.contains(name)?dbRequest.result.transaction([name],"readwrite").objectStore(name):(console.error(`ObjectStore ${name} doesn't exist`),null)}getDbRequest(){return new Promise((resolve,reject)=>{"indexedDB"in window||reject("IndexedDB wird nicht unterstuetzt"),this.idbRequest&&resolve(this.idbRequest);const dbOpen=window.indexedDB.open("GelbeSeiten",1);dbOpen.onsuccess=event=>{this.idbRequest=event.target,resolve(event.target)},dbOpen.onerror=error=>{reject(error)},dbOpen.onupgradeneeded=event=>{dbOpen.result.objectStoreNames.contains("searches")||dbOpen.result.createObjectStore("searches",{keyPath:"was_wo"}).createIndex("timestamp","timestamp"),dbOpen.result.onversionchange=versionChangeEvent=>{this.idbRequest=event.target,resolve(versionChangeEvent.target)}}})}}exports.IndexedDBHandler=IndexedDBHandler,IndexedDBHandler.isSupportedPromise="undefined"!=typeof Promise&&Promise.toString().indexOf("[native code]")>-1}},__webpack_module_cache__={};(function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId](module,module.exports,__webpack_require__),module.exports})(7809)})();